{"version":3,"sources":["components/Table/Table.jsx","hooks/useMarkText.js","components/Exercise/Context/Context.jsx","components/Exercise/Exercise.jsx","App.js","serviceWorker.js","index.js"],"names":["Table","props","data","useState","tableData","setTableData","tableHeaders","setTableHeaders","useEffect","Object","keys","map","row","key","Math","random","toString","useMarkText","string","phrase","regExp","RegExp","replace","Context","markup","text","className","dangerouslySetInnerHTML","__html","setValidationStatus","status","msg","Exercise","Form","useForm","form","answerValidation","setAnswerValidation","answer","setAnswer","direction","title","en","bordered","style","width","layout","Item","label","name","validateStatus","help","hasFeedback","onChange","event","target","value","autoComplete","type","htmlType","onClick","given","correct","pl","localeCompare","sensitivity","context","getRandomPhrase","sheetData","min","max","randomIndex","length","ceil","App","Header","Layout","Footer","Content","setSheetData","showDrawer","setShowDrawer","undefined","randomPhrase","setRandomPhrase","updateData","useCallback","result","Papa","parse","download","header","complete","error","console","closable","onClose","visible","placement","tip","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.6f4921fd.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\n\r\nconst Table = props => {\r\n  const {data} = props;\r\n  const [tableData, setTableData] = useState([]);\r\n  const [tableHeaders, setTableHeaders] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    setTableData(data);\r\n    setTableHeaders(Object.keys(data[0]));\r\n  }, [data])\r\n\r\n  return(\r\n    <table>\r\n          <thead>\r\n            <tr>\r\n              <th>{tableHeaders[0]}</th>\r\n              <th>{tableHeaders[1]}</th>\r\n              <th>{tableHeaders[2]}</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {!!tableData && tableData.map(row => <tr key={Math.random().toString()}>\r\n              <td>{row[tableHeaders[0]]}</td>\r\n              <td>{row[tableHeaders[1]]}</td>\r\n              <td>{row[tableHeaders[2]]}</td>\r\n            </tr>)}\r\n          </tbody>\r\n        </table>\r\n  )\r\n}\r\n\r\nexport default Table;","const useMarkText = (string, phrase) => {\r\n  const regExp = new RegExp(phrase);\r\n  return string.replace(regExp, `<span style=\"font-weight: bold\">${phrase}</span>`)\r\n};\r\n\r\nexport default useMarkText;","import React from 'react';\r\n\r\nimport useMarkText from '../../../hooks/useMarkText';\r\n\r\nimport './Context.scss';\r\n\r\nconst createMarkup = (markup) => ({__html: markup});\r\n\r\nconst Context = props => {\r\n\r\n  const {text, phrase} = props;\r\n\r\n  return (\r\n    <div className=\"Context\" dangerouslySetInnerHTML={createMarkup(useMarkText(text, phrase))} />\r\n  );\r\n}\r\n\r\nexport default Context;","import React, {useState} from 'react';\r\nimport { Button, Card, Form, Input, Space } from 'antd';\r\nimport Context from './Context/Context';\r\n\r\nimport './Exercise.scss';\r\n\r\nconst setValidationStatus = (status, msg) => ({\r\n  status,\r\n  msg\r\n})\r\nfunction validateAnswer(given, correct) {\r\n\r\n  if(!given) {\r\n      return setValidationStatus('', '');\r\n  }\r\n  if(!given.localeCompare(correct, 'pl', {sensitivity: 'base'})) {\r\n    return setValidationStatus('success', 'Good answer!')\r\n  } else {\r\n    return setValidationStatus('error', 'Wrong answer :(')\r\n  }\r\n}\r\n\r\nconst Exercise = ({phrase}) => {\r\n\r\n  const [form] = Form.useForm();\r\n  const [answerValidation, setAnswerValidation] = useState({\r\n    status: null,\r\n    msg: ''\r\n  });\r\n  const [answer, setAnswer] = useState();\r\n\r\n  const handleAnswerChange = event => {\r\n    setAnswer(event.target.value);\r\n  }\r\n\r\n  const handleCheck = () => {\r\n    setAnswerValidation(validateAnswer(answer, phrase.pl))\r\n  }\r\n  return(\r\n    phrase ? \r\n    <div className=\"Exercise\">\r\n      <Space direction=\"horizontal\">\r\n      {/* <div className=\"Question\">\r\n        {phrase.en}\r\n      </div> */}\r\n      <div className=\"Answer\">\r\n        \r\n      </div>\r\n      </Space>\r\n      \r\n\r\n      <Card title={phrase.en} bordered={false} style={{ width: 300 }}>\r\n      <Form form={form} layout=\"vertical\">\r\n          <Form.Item \r\n            label=\"Translation\"\r\n            name=\"answer\" \r\n            validateStatus={answerValidation.status} \r\n            help={answerValidation.msg}\r\n            hasFeedback\r\n          >\r\n            <Input onChange={handleAnswerChange} value={answer} autoComplete=\"off\"/>\r\n          </Form.Item>\r\n          <Form.Item >\r\n            <Button type=\"primary\" htmlType=\"submit\" onClick={handleCheck}>\r\n              Check\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n        <Context text={phrase.context} phrase={phrase.en}/>\r\n      </Card>\r\n    </div> : null\r\n  )\r\n};\r\n\r\nexport default Exercise;","import React, {useState, useEffect, useCallback} from 'react';\nimport { Button, Drawer, Layout, Spin, Space} from 'antd';\nimport Table from './components/Table/Table';\nimport './App.scss';\nimport './ant-design.overrides.scss';\n\nimport Papa from 'papaparse';\nimport Exercise from './components/Exercise/Exercise';\n\nconst getRandomArrayIndexWithRange = (min, max) => Math.ceil(Math.random() * (max - 1- min));\nconst getRandomPhrase = (sheetData) => {\n  const randomIndex = getRandomArrayIndexWithRange(0, sheetData.length);\n  return {\n    en: sheetData[randomIndex]['EN'],\n    pl: sheetData[randomIndex]['PL'],\n    context: sheetData[randomIndex]['Context'],\n  }\n};\n\nfunction App() {\n  const { Header, Footer, Content } = Layout;\n  const [sheetData, setSheetData] = useState([]);\n  const [showDrawer, setShowDrawer] = useState(false);\n  const [randomPhrase, setRandomPhrase] = useState(undefined);\n\n  const updateData = useCallback(result => {\n    setSheetData(result.data);\n    setRandomPhrase(getRandomPhrase(result.data));\n  }, [])\n\n  useEffect(() => {\n    const source = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSCT-qGizC85dIjMYIt6EAxlAT1Z-7J5ktgc9RgWOxapCYArCPvi5TgoqaJ5AL0c2q0b3gN-v2yGcVS/pub?output=csv'\n    try {\n      return Papa.parse(source, {\n        download: true,\n        header: true,\n        complete: updateData\n      })\n    } catch(error) {\n      console.error('Something was wrong. Cannot load spreadsheet ;(', error)\n    }\n  }, [updateData])\n\n  const handleShowDrawer = () => {\n    setShowDrawer(true);\n  }\n  const handleHideDrawer = () => {\n    setShowDrawer(false);\n  }\n\n  const handleRefreshExercise = () => {\n    setRandomPhrase(getRandomPhrase(sheetData));\n  }\n\n  return (\n    <Layout className=\"App\">\n      <Header className=\"AppHeader\">\n        <h1 className=\"AppName\">Momi</h1>\n      </Header>\n      {!sheetData.length ? \n      <Content className=\"Content\">\n        <Spin tip=\"Loading data...\"/>\n      </Content> \n      : \n      <Content className=\"Content\">\n        <Space direction=\"vertical\">\n          <Exercise phrase={randomPhrase} />\n          <Space >\n            <Button type=\"primary\" onClick={handleRefreshExercise} >Get Random Phrase</Button>\n            <Button onClick={handleShowDrawer}>Show dictionary</Button>\n          </Space>\n        </Space>\n        <Drawer\n          title=\"Dictionary\"\n          closable={true}\n          onClose={handleHideDrawer}\n          visible={showDrawer}\n          placement=\"right\"\n          width=\"500\"\n        >\n          <Table data={sheetData}/>\n        </Drawer>\n      </Content>}\n      <Footer>&copy; 2020 by fadehelix</Footer>\n    </Layout>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}